<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/templates/template.xhtml">
<ui:define name="content">
<div class="common-content">

<div id="new_user">			
<h:form>
<h:panelGroup rendered="#{not adminBean.getNewUserC().newUserFormVisible}">
<div id="new_user_button">
	<h:commandButton  value="create new user" action="#{adminBean.getNewUserC().showNewUserForm()}"></h:commandButton>
</div>
</h:panelGroup>

<h:panelGroup rendered="#{adminBean.getNewUserC().newUserFormVisible}">
<div id="new_user_form">
	<table>
		<tr>
			<td>
				<h:outputText class="text" value=" Name"></h:outputText>
			</td>
			<td>
				<h:outputText class="text" value=" Password"></h:outputText>
			</td>
			<td>
				<h:outputText class="text" value=" Role"></h:outputText>
			</td>
		</tr>
		<tr>
			<td>
				<h:inputText class="name-input" value="#{adminBean.getNewUserC().name}"></h:inputText>
			</td>
			<td>
				<h:inputText class="password-input" value="#{adminBean.getNewUserC().password}"></h:inputText>
			</td>
			<td>
				<h:selectOneMenu class="role-input" value="#{adminBean.getNewUserC().role}">
					<f:selectItem itemValue="user"/>
					<f:selectItem itemValue="admin" />   								
				</h:selectOneMenu>
			</td>
			<td>
				<h:commandButton class="create-button" value="create" action="#{adminBean.getNewUserC().createButton()}"></h:commandButton>
			</td>
			<td>
				<h:commandButton class="cancel-button" value="cancel" action="#{adminBean.getNewUserC().cancelButton()}"></h:commandButton>
			</td>
		</tr>
	</table>
</div>
</h:panelGroup>
</h:form>
</div>


<div id="user_table">
	<h:form>
		<ui:repeat value="#{adminBean.usersC}" var="userBeanComponent" varStatus="status">
		
		<div class="row-even-#{status.even}">
		<table>
				<tr>
					<td class="user-name">
						<h:outputText value="#{userBeanComponent.name}"  rendered="#{not userBeanComponent.beingEdited}"></h:outputText>
						<h:inputText class="name-input" value="#{userBeanComponent.name}" rendered="#{userBeanComponent.beingEdited}"></h:inputText>
					</td>
					<td class="user-password">
						<h:outputText value="#{userBeanComponent.password}"  rendered="#{not userBeanComponent.beingEdited}"></h:outputText>
						<h:inputText class ="password-input" value="#{userBeanComponent.password}" rendered="#{userBeanComponent.beingEdited}"></h:inputText>
					</td>
					<td class="user-role">
						<h:outputText value="#{userBeanComponent.role}"  rendered="#{not userBeanComponent.beingEdited}"></h:outputText>
						<h:panelGroup>
							<h:selectOneMenu value="#{userBeanComponent.role}" rendered="#{userBeanComponent.beingEdited}">
   								<f:selectItem itemValue="admin"/>
   								<f:selectItem itemValue="user" />   								
   							</h:selectOneMenu>
						</h:panelGroup>
					</td>
					<td class="user-edit">
						<h:commandButton value="edit" action="#{userBeanComponent.editButton()}" rendered="#{not userBeanComponent.beingEdited}"></h:commandButton>
						<h:commandButton value="V" action="#{userBeanComponent.saveButton()}" rendered="#{userBeanComponent.beingEdited}"></h:commandButton>
						<h:commandButton value="X" action="#{userBeanComponent.cancelButton()}" rendered="#{userBeanComponent.beingEdited}"></h:commandButton>
					</td>
					<td class="user-remove">
						<h:commandButton value="delete" action="#{userBeanComponent.deleteButton()}" rendered="#{not userBeanComponent.beingEdited}"></h:commandButton>
					</td>
				</tr>
		</table>	
		</div>
		</ui:repeat>
	</h:form>
</div>

</div>	
</ui:define>
</ui:composition>
</html>